<div class="categorias-container">
  <!-- HERO SECTION -->
  <section class="categorias-hero">
    <div class="mexican-pattern"></div>
    
    <div class="hero-content-wrapper">
      <div class="hero-content">
        <div class="hero-text">
          <h1 class="hero-title">
            <span class="hero-line-1">Tradiciones</span>
            <span class="hero-line-2">
              <span class="text-mexicanas">Mexicanas</span>
              <span class="text-categorias">CategorÃ­as</span>
            </span>
          </h1>
          
          <p class="hero-subtitle">
            Explora nuestras categorÃ­as artesanales y conecta con tradiciones centenarias
          </p>
          
          <div class="hero-stats">
            <div class="hero-stat">
              <span class="stat-number">{{ categorias.length }}</span>
              <span class="stat-label">CategorÃ­as</span>
            </div>
            <div class="hero-stat">
              <span class="stat-number">{{ obtenerTotalArtesanos() }}+</span>
              <span class="stat-label">Artesanos</span>
            </div>
            <div class="hero-stat">
              <span class="stat-number">{{ obtenerTotalProductos() }}+</span>
              <span class="stat-label">Productos</span>
            </div>
          </div>
          
          <div class="hero-cta">
            <button class="btn-explorar" (click)="scrollToCategorias()">
              <span class="btn-icon">ğŸ”</span>
              <span class="btn-text">Explorar CategorÃ­as</span>
            </button>
          </div>
        </div>
        
        <div class="hero-decoration">
          <div class="decoration-item">ğŸº</div>
          <div class="decoration-item">ğŸ§µ</div>
          <div class="decoration-item">ğŸ¨</div>
        </div>
      </div>
    </div>
    
    <div class="scroll-indicator" (click)="scrollToCategorias()">
      <div class="arrow"></div>
    </div>
  </section>

  <!-- FILTROS UTILES -->
  <section class="filtros-section">
    <div class="container">
      <div class="filtros-grid">
        <!-- Filtros rÃ¡pidos -->
        <div class="filtro-card" 
            [class.active]="filtroRapido === 'todos'"
            (click)="aplicarFiltroRapido('todos')">
          <div class="filtro-icon">ğŸ¯</div>
          <div class="filtro-content">
            <h4>Todas</h4>
            <p>Todas las categorÃ­as</p>
          </div>
        </div>
        
        <div class="filtro-card"
            [class.active]="filtroRapido === 'populares'"
            (click)="aplicarFiltroRapido('populares')">
          <div class="filtro-icon">ğŸ”¥</div>
          <div class="filtro-content">
            <h4>Populares</h4>
            <p>Lo mÃ¡s buscado</p>
          </div>
        </div>
        
        <div class="filtro-card"
            [class.active]="filtroRapido === 'nuevos'"
            (click)="aplicarFiltroRapido('nuevos')">
          <div class="filtro-icon">ğŸ†•</div>
          <div class="filtro-content">
            <h4>Nuevos</h4>
            <p>Ãšltimas categorÃ­as</p>
          </div>
        </div>
        
        <!-- Dropdown de regiones -->
        <div class="filtro-card dropdown-filtro">
          <div class="filtro-icon">ğŸ“</div>
          <div class="filtro-content">
            <select [(ngModel)]="filtroRegion" (change)="filtrarCategorias()" class="region-select">
              <option value="">Todas las regiones</option>
              <option *ngFor="let region of regiones" [value]="region">
                {{ region }}
              </option>
            </select>
          </div>
        </div>
      </div>
      
      <!-- Controles adicionales -->
      <div class="filtros-footer">
        <div class="ordenamiento">
          <label>Ordenar por:</label>
          <select [(ngModel)]="ordenSeleccionado" (change)="ordenarCategorias()" class="orden-select">
            <option value="nombre">Nombre A-Z</option>
            <option value="popularidad">MÃ¡s populares</option>
            <option value="productos">MÃ¡s productos</option>
            <option value="nuevos">MÃ¡s recientes</option>
          </select>
        </div>
        
        <button class="btn-filtros-avanzados" (click)="mostrarFiltrosAvanzados = !mostrarFiltrosAvanzados">
          {{ mostrarFiltrosAvanzados ? 'Menos filtros' : 'MÃ¡s filtros' }}
        </button>
        
        <button class="btn-limpiar" (click)="limpiarFiltros()" *ngIf="filtroActivo">
          ğŸ—‘ï¸ Limpiar filtros
        </button>
      </div>
      
      <!-- Filtros avanzados -->
      <div class="filtros-avanzados" *ngIf="mostrarFiltrosAvanzados">
        <div class="filtro-avanzado">
          <label>â­ Rating mÃ­nimo</label>
          <div class="rating-options">
            <button *ngFor="let rating of [4, 3, 2, 1]"
                    class="rating-btn"
                    [class.active]="filtroRating === rating"
                    (click)="filtroRating = filtroRating === rating ? 0 : rating; filtrarCategorias()">
              {{ rating }}+ â­
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECCIÃ“N DE CATEGORÃAS -->
  <section class="categorias-section" id="categorias" #categoriasSection>
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Nuestras CategorÃ­as</h2>
        <div class="resultados-count">
          <span class="count-number">{{ categoriasFiltradas.length }}</span>
          <span class="count-text">
            {{ categoriasFiltradas.length === 1 ? 'categorÃ­a' : 'categorÃ­as' }}
          </span>
        </div>
      </div>
      
      <!-- Estado de carga -->
      <div class="loading-state" *ngIf="cargando">
        <div class="spinner"></div>
        <p>Cargando categorÃ­as...</p>
      </div>
      
      <!-- Grid de categorÃ­as -->
      <div class="categorias-grid" *ngIf="!cargando">
        <div class="categoria-card" *ngFor="let categoria of categoriasFiltradas">
          
          <!-- Imagen con fallback -->
          <div class="categoria-imagen">
            <img 
              [src]="categoria.imagen" 
              [alt]="categoria.nombre"
              (error)="onImgError($event, categoria)"
              (load)="onImgLoad(categoria)"
              loading="lazy"
            />
            
            <!-- Badges -->
            <div class="categoria-badges">
              <span class="badge badge-region">{{ categoria.region }}</span>
              <span class="badge badge-popular" *ngIf="categoria.popular">ğŸ”¥</span>
              <span class="badge badge-nuevo" *ngIf="esCategoriaNueva(categoria)">ğŸ†•</span>
            </div>
          </div>
          
          <!-- Contenido -->
          <div class="categoria-content">
            <h3 class="categoria-nombre">{{ categoria.nombre }}</h3>
            
            <p class="categoria-descripcion">{{ categoria.descripcionCorta }}</p>
            
            <!-- Stats -->
            <div class="categoria-stats">
              <div class="stat">
                <span class="stat-icon">ğŸ“¦</span>
                <span class="stat-value">{{ categoria.totalProductos }}</span>
                <span class="stat-label">Productos</span>
              </div>
              <div class="stat">
                <span class="stat-icon">ğŸ‘¨â€ğŸ¨</span>
                <span class="stat-value">{{ categoria.artesanos }}</span>
                <span class="stat-label">Artesanos</span>
              </div>
              <div class="stat">
                <span class="stat-icon">â­</span>
                <span class="stat-value">{{ categoria.rating }}</span>
                <span class="stat-label">Rating</span>
              </div>
            </div>
            
            <!-- Tags -->
            <div class="categoria-tags">
              <span *ngFor="let tag of categoria.tags" 
                    class="tag"
                    [style.background]="getTagColor(tag)">
                {{ tag }}
              </span>
            </div>
            
            <!-- BotÃ³n de acciÃ³n -->
            <button class="btn-explorar-categoria" (click)="verCategoria(categoria)">
              <span>Explorar CategorÃ­a</span>
              <span class="btn-arrow">â†’</span>
            </button>
          </div>
        </div>
      </div>
      
      <!-- Sin resultados -->
      <div class="no-resultados" *ngIf="!cargando && categoriasFiltradas.length === 0">
        <div class="no-resultados-icon">ğŸ”</div>
        <h3>No encontramos categorÃ­as</h3>
        <p>Prueba con otros filtros</p>
        <button class="btn-limpiar" (click)="limpiarFiltros()">
          Ver todas las categorÃ­as
        </button>
      </div>
    </div>
  </section>

  <!-- INFORMACIÃ“N ADICIONAL -->
  <section class="info-section">
    <div class="container">
      <h2 class="info-title">Explora la ArtesanÃ­a Mexicana</h2>
      <div class="info-grid">
        <div class="info-card">
          <div class="info-icon">ğŸ‘¨â€ğŸ¨</div>
          <h3>Artesanos Expertos</h3>
          <p>Trabajamos con maestros artesanos certificados</p>
        </div>
        <div class="info-card">
          <div class="info-icon">ğŸ†</div>
          <h3>Calidad Garantizada</h3>
          <p>Cada pieza es Ãºnica y autÃ©ntica</p>
        </div>
        <div class="info-card">
          <div class="info-icon">ğŸšš</div>
          <h3>EnvÃ­o Nacional</h3>
          <p>Llevamos la artesanÃ­a a todo MÃ©xico</p>
        </div>
      </div>
    </div>
  </section>
</div>