<div class="ayuda-container">
  <!-- HERO SECTION -->
  <section class="ayuda-hero">
    <div class="hero-content-wrapper">
      <div class="hero-content">
        <div class="hero-text">
          <h1 class="hero-title">
            <span class="hero-line-1">Centro de</span>
            <span class="hero-line-2">
              <span class="text-ayuda">Ayuda</span>
              <span class="text-centro">Centro</span>
            </span>
          </h1>
          
          <p class="hero-subtitle">
            Estamos aquí para ayudarte. Encuentra respuestas rápidas a tus preguntas.
          </p>
          
          <div class="hero-stats">
            <div class="hero-stat">
              <span class="stat-number">{{ categoriasAyuda.length }}</span>
              <span class="stat-label">Categorías</span>
            </div>
            <div class="hero-stat">
              <span class="stat-number">{{ totalPreguntas }}</span>
              <span class="stat-label">Preguntas</span>
            </div>
            <div class="hero-stat">
              <span class="stat-number">24/7</span>
              <span class="stat-label">Soporte</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="scroll-indicator" (click)="scrollToSeccion('busqueda-rapida')">
      <div class="arrow"></div>
    </div>
  </section>

  <!-- BÚSQUEDA RÁPIDA -->
  <section class="busqueda-rapida" id="busqueda-rapida">
    <div class="busqueda-container">
      <h2>¿En qué podemos ayudarte?</h2>
      
      <div class="busqueda-grid">
        <div class="busqueda-card" (click)="filtrarPorCategoria('pedidos')">
          <div class="card-icon">
            <i class="material-icons icon-mexican-brown icon-xl">inventory_2</i>
          </div>
          <h3>Pedidos y Envíos</h3>
          <p>Seguimiento, tiempos de entrega y políticas de envío</p>
        </div>
  
        <div class="busqueda-card" (click)="filtrarPorCategoria('pagos')">
          <div class="card-icon">
          <i class="material-icons icon-mexican-gold icon-xl">payment</i>
        </div>
          <h3>Pagos y Facturación</h3>
          <p>Métodos de pago, facturas y reembolsos</p>
        </div>
  
        <div class="busqueda-card" (click)="filtrarPorCategoria('devoluciones')">
          <div class="card-icon">
            <i class="material-icons icon-mexican-red icon-xl">swap_horiz</i>
          </div>
          <h3>Devoluciones</h3>
          <p>Políticas de cambio y garantías de productos</p>
        </div>
  
        <div class="busqueda-card" (click)="filtrarPorCategoria('cuenta')">
          <div class="card-icon">
            <i class="material-icons icon-mexican-brown icon-xl">account_circle</i>
          </div>
          <h3>Mi Cuenta</h3>
          <p>Gestión de perfil, contraseña y preferencias</p>
        </div>
      </div>
    </div>
  </section>

  <!-- BARRA DE BÚSQUEDA -->
  <section class="barra-busqueda">
    <div class="busqueda-input-container">
      <div class="input-group">
        <input 
          type="text" 
          [(ngModel)]="terminoBusqueda" 
          (keyup.enter)="filtrarContenido()"
          placeholder="Buscar en preguntas frecuentes..." 
          class="busqueda-input"
        >
        <button class="btn-buscar btn-glow-effect" (click)="filtrarContenido()">
          <i class="material-icons">search</i>
          Buscar
        </button>
      </div>
      <p class="busqueda-hint">
        Escribe tu pregunta o palabra clave y presiona Enter
      </p>
    </div>
  </section>

  <!-- RESULTADOS DE BÚSQUEDA -->
  <section *ngIf="terminoBusqueda && resultadosBusqueda.length > 0" class="resultados-busqueda">
    <div class="resultados-container">
      <h2>Resultados para "{{ terminoBusqueda }}"</h2>
      <div class="resultados-list">
        <div *ngFor="let resultado of resultadosBusqueda" class="resultado-item">
          <h4 (click)="togglePregunta(resultado)">
            {{ resultado.pregunta }}
            <span class="resultado-categoria">
              {{ resultado.categoria | titlecase }}
            </span>
          </h4>
          <div *ngIf="resultado.abierta" class="respuesta">
            <p>{{ resultado.respuesta }}</p>
            <div class="respuesta-actions">
              <button class="btn-util btn-glow-subtle" (click)="marcarUtil(resultado)">
                <i class="material-icons">thumb_up</i>
                {{ resultado.util ? 'Útil' : '¿Te resultó útil?' }}
              </button>
              <button class="btn-compartir btn-glow-subtle" (click)="compartirPregunta(resultado)">
                <i class="material-icons">share</i>
                Compartir
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- PREGUNTAS FRECUENTES -->
  <section class="preguntas-frecuentes">
    <div class="preguntas-container">
      <h2>Preguntas Frecuentes</h2>
      
      <div *ngFor="let categoria of categoriasAyuda; let i = index" class="categoria-preguntas">
        <h3 class="categoria-titulo" (click)="toggleCategoria(categoria)">
          {{ categoria.nombre }}
          <i class="material-icons icon-mexican-gold">{{ categoria.abierta ? 'expand_less' : 'expand_more' }}</i>
        </h3>
        
        <div *ngIf="categoria.abierta" class="preguntas-list">
          <div *ngFor="let pregunta of categoria.preguntas" class="pregunta-item">
            <div class="pregunta-header" (click)="togglePregunta(pregunta)">
              <h4>{{ pregunta.pregunta }}</h4>
              <i class="material-icons icon-mexican-gold">{{ pregunta.abierta ? 'expand_less' : 'expand_more' }}</i>
            </div>
            <div *ngIf="pregunta.abierta" class="pregunta-respuesta">
              <p>{{ pregunta.respuesta }}</p>
              <div class="pregunta-actions">
                <button class="btn-util btn-glow-subtle" (click)="marcarUtil(pregunta)">
                  <i class="material-icons">thumb_up</i>
                  {{ pregunta.util ? 'Útil' : '¿Te resultó útil?' }}
                </button>
                <button class="btn-compartir btn-glow-subtle" (click)="compartirPregunta(pregunta)">
                  <i class="material-icons">share</i>
                  Compartir
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CONTACTO DIRECTO -->
  <section class="contacto-directo">
    <div class="contacto-container">
      <div class="contacto-info">
        <h2>¿No encontraste lo que buscabas?</h2>
        <p>Nuestro equipo de soporte está listo para ayudarte personalmente</p>
        
        <div class="contacto-metodos">
          <div class="metodo-contacto">
            <div class="metodo-icon">
              <i class="material-icons icon-mexican-red icon-xl">chat</i>
            </div>
            <div class="metodo-info">
              <h4>Chat en Vivo</h4>
              <p>Disponible 24/7</p>
              <button class="btn-contacto btn-glow-effect" (click)="iniciarChat()">
                Iniciar Chat
              </button>
            </div>
          </div>
          
          <div class="metodo-contacto">
            <div class="metodo-icon">
              <i class="material-icons icon-mexican-brown icon-xl">email</i>
            </div>
            <div class="metodo-info">
              <h4>Correo Electrónico</h4>
              <p>Respuesta en 24 horas</p>
              <button class="btn-contacto btn-glow-effect" (click)="abrirEmail()">
                soporte@raicesmx.com
              </button>
            </div>
          </div>
          
          <div class="metodo-contacto">
            <div class="metodo-icon">
              <i class="material-icons icon-mexican-green icon-xl">phone</i>
            </div>
            <div class="metodo-info">
              <h4>Teléfono</h4>
              <p>Lun-Vie 9:00-18:00</p>
              <button class="btn-contacto btn-glow-effect" (click)="llamarSoporte()">
                +52 55 1234 5678
              </button>
            </div>
          </div>
        </div>
      </div>
      
      <div class="contacto-formulario">
        <h3>Envíanos un mensaje</h3>
        <form (ngSubmit)="enviarMensaje()" class="formulario-contacto">
          <div class="form-group">
            <label for="nombre">Nombre completo *</label>
            <input 
              type="text" 
              id="nombre"
              [(ngModel)]="mensajeContacto.nombre" 
              name="nombre" 
              required 
              class="form-input"
              placeholder="Tu nombre completo"
            >
          </div>
          
          <div class="form-group">
            <label for="email">Correo electrónico *</label>
            <input 
              type="email" 
              id="email"
              [(ngModel)]="mensajeContacto.email" 
              name="email" 
              required 
              class="form-input"
              placeholder="tu@email.com"
            >
          </div>
          
          <div class="form-group">
            <label for="asunto">Asunto *</label>
            <select 
              id="asunto"
              [(ngModel)]="mensajeContacto.asunto" 
              name="asunto" 
              required 
              class="form-select"
            >
              <option value="">Selecciona un asunto</option>
              <option value="pedido">Problema con mi pedido</option>
              <option value="pago">Consulta sobre pago</option>
              <option value="producto">Información de producto</option>
              <option value="devolucion">Solicitud de devolución</option>
              <option value="otro">Otro</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="mensaje">Mensaje *</label>
            <textarea 
              id="mensaje"
              [(ngModel)]="mensajeContacto.mensaje" 
              name="mensaje" 
              required 
              class="form-textarea" 
              placeholder="Describe tu consulta en detalle..."
              rows="4"
            ></textarea>
          </div>
          
          <button type="submit" class="btn-enviar btn-glow-effect" [disabled]="enviando">
            <i class="material-icons">send</i>
            {{ enviando ? 'Enviando...' : 'Enviar Mensaje' }}
          </button>
        </form>
      </div>
    </div>
  </section>

  <!-- RECURSOS ADICIONALES -->
  <section class="recursos-adicionales">
    <div class="recursos-container">
      <h2>Recursos Adicionales</h2>
      <div class="recursos-grid">
        <div class="recurso-card">
          <div class="recurso-icon">
            <i class="material-icons icon-mexican-brown icon-xl">menu_book</i>
          </div>
          <h3>Guías de Compra</h3>
          <p>Aprende a elegir la artesanía perfecta para ti</p>
          <button class="btn-recurso btn-glow-effect" (click)="verGuias()">
            Ver Guías
          </button>
        </div>
        
        <div class="recurso-card">
          <div class="recurso-icon">
            <i class="material-icons icon-mexican-gold icon-xl">play_circle</i>
          </div>
          <h3>Video Tutoriales</h3>
          <p>Aprende sobre el cuidado de artesanías mexicanas</p>
          <button class="btn-recurso btn-glow-effect" (click)="verTutoriales()">
            Ver Videos
          </button>
        </div>
        
        <div class="recurso-card">
          <div class="recurso-icon">
            <i class="material-icons icon-mexican-red icon-xl">description</i>
          </div>
          <h3>Políticas y Términos</h3>
          <p>Conoce nuestras políticas de servicio</p>
          <button class="btn-recurso btn-glow-effect" (click)="verPoliticas()">
            Ver Políticas
          </button>
        </div>
      </div>
    </div>
  </section>
</div>