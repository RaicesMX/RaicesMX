<div class="ayuda-container">
<!-- Header -->
    <header class="header-marketplace">
    <div class="header-content">
        <div class="header-left">
            <img src="assets/images/Logo_RMX.png" alt="RaÃ­cesMX" class="logo-header">
            <span class="logo-text">RaÃ­cesMX</span>
            <span class="separator">|</span>
            <span class="header-desc">ArtesanÃ­as Mexicanas AutÃ©nticas</span>
        </div>
    <div class="header-center">
        <input type="text" placeholder="Buscar en ayuda..." class="search-input" [(ngModel)]="terminoBusqueda" (input)="filtrarContenido()">
        <button class="btn-search">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="white" viewBox="0 0 16 16">
                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
            </svg>
        </button>
    </div>
    <nav class="header-right">
        <a class="nav-link" routerLink="/marketplace">Inicio</a>
        <a class="nav-link" routerLink="/categorias">CategorÃ­as</a>
        <a class="nav-link" routerLink="/ofertas">Ofertas</a>
        <a class="nav-link active" routerLink="/ayuda">Ayuda</a>
        <a class="nav-link" routerLink="/favoritos">Favoritos</a>
        <a class="nav-link cart-link" routerLink="/carrito">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
            </svg>
            <span class="cart-badge">3</span>
        </a>
            <a class="nav-link" routerLink="/perfil">Perfil</a>
        </nav>
    </div>
</header>
<!-- Contenido principal -->
  <main class="ayuda-main">
    <div class="ayuda-content">
      
      <!-- Hero Section -->
      <section class="ayuda-hero">
        <div class="hero-content">
          <div class="hero-text">
            <h1 class="hero-title">
              <span class="hero-accent">Centro de Ayuda</span> â“
            </h1>
            <p class="hero-subtitle">
              Estamos aquÃ­ para ayudarte. Encuentra respuestas rÃ¡pidas a tus preguntas.
            </p>
            <div class="hero-stats">
              <div class="hero-stat">
                <span class="stat-number">{{ categoriasAyuda.length }}</span>
                <span class="stat-label">CategorÃ­as</span>
              </div>
              <div class="hero-stat">
                <span class="stat-number">{{ totalPreguntas }}</span>
                <span class="stat-label">Preguntas</span>
              </div>
              <div class="hero-stat">
                <span class="stat-number">24/7</span>
                <span class="stat-label">Soporte</span>
              </div>
            </div>
          </div>
          <div class="hero-visual">
            <div class="floating-elements">
              <div class="floating-item item-1">â“</div>
              <div class="floating-item item-2">ğŸ’¬</div>
              <div class="floating-item item-3">ğŸ“</div>
              <div class="floating-item item-4">âœ¨</div>
            </div>
          </div>
        </div>
      </section>

      <!-- BÃºsqueda rÃ¡pida -->
      <section class="busqueda-rapida">
        <div class="busqueda-container">
          <h2>Â¿En quÃ© podemos ayudarte?</h2>
          <div class="busqueda-grid">
            <div class="busqueda-card" (click)="filtrarPorCategoria('pedidos')">
              <div class="card-icon">ğŸ“¦</div>
              <h3>Pedidos y EnvÃ­os</h3>
              <p>Seguimiento, tiempos de entrega y polÃ­ticas de envÃ­o</p>
            </div>
            <div class="busqueda-card" (click)="filtrarPorCategoria('pagos')">
              <div class="card-icon">ğŸ’³</div>
              <h3>Pagos y FacturaciÃ³n</h3>
              <p>MÃ©todos de pago, facturas y reembolsos</p>
            </div>
            <div class="busqueda-card" (click)="filtrarPorCategoria('devoluciones')">
              <div class="card-icon">ğŸ”„</div>
              <h3>Devoluciones</h3>
              <p>PolÃ­ticas de cambio y garantÃ­as de productos</p>
            </div>
            <div class="busqueda-card" (click)="filtrarPorCategoria('cuenta')">
              <div class="card-icon">ğŸ‘¤</div>
              <h3>Mi Cuenta</h3>
              <p>GestiÃ³n de perfil, contraseÃ±a y preferencias</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Resultados de bÃºsqueda -->
      <section *ngIf="terminoBusqueda && resultadosBusqueda.length > 0" class="resultados-busqueda">
        <div class="resultados-container">
          <h2>Resultados para "{{ terminoBusqueda }}"</h2>
          <div class="resultados-list">
            <div *ngFor="let resultado of resultadosBusqueda" class="resultado-item">
              <h4 (click)="togglePregunta(resultado)">{{ resultado.pregunta }}</h4>
              <div *ngIf="resultado.abierta" class="respuesta">
                <p>{{ resultado.respuesta }}</p>
                <div class="respuesta-actions">
                  <button class="btn-util" (click)="marcarUtil(resultado)">
                    ğŸ‘ {{ resultado.util ? 'Ãštil' : 'Â¿Te resultÃ³ Ãºtil?' }}
                  </button>
                  <button class="btn-compartir" (click)="compartirPregunta(resultado)">
                    ğŸ“¤ Compartir
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Preguntas Frecuentes -->
      <section class="preguntas-frecuentes">
        <div class="preguntas-container">
          <h2>Preguntas Frecuentes</h2>
          
          <div *ngFor="let categoria of categoriasAyuda" class="categoria-preguntas">
            <h3 class="categoria-titulo" (click)="toggleCategoria(categoria)">
              {{ categoria.nombre }}
              <span class="categoria-icon">{{ categoria.abierta ? 'âˆ’' : '+' }}</span>
            </h3>
            
            <div *ngIf="categoria.abierta" class="preguntas-list">
              <div *ngFor="let pregunta of categoria.preguntas" class="pregunta-item">
                <div class="pregunta-header" (click)="togglePregunta(pregunta)">
                  <h4>{{ pregunta.pregunta }}</h4>
                  <span class="pregunta-icon">{{ pregunta.abierta ? 'âˆ’' : '+' }}</span>
                </div>
                <div *ngIf="pregunta.abierta" class="pregunta-respuesta">
                  <p>{{ pregunta.respuesta }}</p>
                  <div class="pregunta-actions">
                    <button class="btn-util" (click)="marcarUtil(pregunta)">
                      ğŸ‘ {{ pregunta.util ? 'Ãštil' : 'Â¿Te resultÃ³ Ãºtil?' }}
                    </button>
                    <button class="btn-compartir" (click)="compartirPregunta(pregunta)">
                      ğŸ“¤ Compartir
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Contacto Directo -->
      <section class="contacto-directo">
        <div class="contacto-container">
          <div class="contacto-info">
            <h2>Â¿No encontraste lo que buscabas?</h2>
            <p>Nuestro equipo de soporte estÃ¡ listo para ayudarte personalmente</p>
            
            <div class="contacto-metodos">
              <div class="metodo-contacto">
                <div class="metodo-icon">ğŸ’¬</div>
                <div class="metodo-info">
                  <h4>Chat en Vivo</h4>
                  <p>Disponible 24/7</p>
                  <button class="btn-contacto" (click)="iniciarChat()">Iniciar Chat</button>
                </div>
              </div>
              
              <div class="metodo-contacto">
                <div class="metodo-icon">ğŸ“§</div>
                <div class="metodo-info">
                  <h4>Correo ElectrÃ³nico</h4>
                  <p>Respuesta en 24 horas</p>
                  <button class="btn-contacto" (click)="abrirEmail()">soporte&#64;raicesmx.com</button>
                </div>
              </div>
              
              <div class="metodo-contacto">
                <div class="metodo-icon">ğŸ“</div>
                <div class="metodo-info">
                  <h4>TelÃ©fono</h4>
                  <p>Lun-Vie 9:00-18:00</p>
                  <button class="btn-contacto" (click)="llamarSoporte()">+52 55 1234 5678</button>
                </div>
              </div>
            </div>
          </div>
          
          <div class="contacto-formulario">
            <h3>EnvÃ­anos un mensaje</h3>
            <form (ngSubmit)="enviarMensaje()" class="formulario-contacto">
              <div class="form-group">
                <label>Nombre completo *</label>
                <input type="text" [(ngModel)]="mensajeContacto.nombre" name="nombre" required class="form-input">
              </div>
              
              <div class="form-group">
                <label>Correo electrÃ³nico *</label>
                <input type="email" [(ngModel)]="mensajeContacto.email" name="email" required class="form-input">
              </div>
              
              <div class="form-group">
                <label>Asunto *</label>
                <select [(ngModel)]="mensajeContacto.asunto" name="asunto" required class="form-select">
                  <option value="">Selecciona un asunto</option>
                  <option value="pedido">Problema con mi pedido</option>
                  <option value="pago">Consulta sobre pago</option>
                  <option value="producto">InformaciÃ³n de producto</option>
                  <option value="devolucion">Solicitud de devoluciÃ³n</option>
                  <option value="otro">Otro</option>
                </select>
              </div>
              
              <div class="form-group">
                <label>Mensaje *</label>
                <textarea [(ngModel)]="mensajeContacto.mensaje" name="mensaje" required class="form-textarea" placeholder="Describe tu consulta en detalle..."></textarea>
              </div>
              
              <button type="submit" class="btn-enviar" [disabled]="enviando">
                {{ enviando ? 'Enviando...' : 'ğŸ“¤ Enviar Mensaje' }}
              </button>
            </form>
          </div>
        </div>
      </section>

      <!-- Recursos Adicionales -->
      <section class="recursos-adicionales">
        <div class="recursos-container">
          <h2>Recursos Adicionales</h2>
          <div class="recursos-grid">
            <div class="recurso-card">
              <div class="recurso-icon">ğŸ“š</div>
              <h3>GuÃ­as de Compra</h3>
              <p>Aprende a elegir la artesanÃ­a perfecta para ti</p>
              <button class="btn-recurso" (click)="verGuias()">Ver GuÃ­as</button>
            </div>
            
            <div class="recurso-card">
              <div class="recurso-icon">ğŸ¥</div>
              <h3>Video Tutoriales</h3>
              <p>Aprende sobre el cuidado de artesanÃ­as mexicanas</p>
              <button class="btn-recurso" (click)="verTutoriales()">Ver Videos</button>
            </div>
            
            <div class="recurso-card">
              <div class="recurso-icon">ğŸ“‹</div>
              <h3>PolÃ­ticas y TÃ©rminos</h3>
              <p>Conoce nuestras polÃ­ticas de servicio</p>
              <button class="btn-recurso" (click)="verPoliticas()">Ver PolÃ­ticas</button>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>
</div>