<!-- src/app/login/login.component.html -->
<div class="portal-wrapper">
  <!-- Fondo Alebrije + Overlay -->
  <div class="bg-alebrije"></div>
  <div class="overlay-alebrije"></div>

  <!-- Partículas Doradas (más grandes y frecuentes) -->
  <div class="particulas">
    <div class="particula large"></div>
    <div class="particula medium"></div>
    <div class="particula large"></div>
    <div class="particula small"></div>
    <div class="particula medium"></div>
    <div class="particula large"></div>
    <div class="particula small"></div>
  </div>

  <!-- Anillo giratorio -->
  <div class="portal-ring"></div>

  <!-- Formulario -->
  <div class="formulario-raiz" #formulario>
    <div class="form-header">
      <img src="assets/images/Logo_RMX.png" alt="RaícesMX" class="logo-alebrije" />
      <h1 class="titulo-raiz"><span class="vino">Raíces</span><span class="dorado">MX</span></h1>
      <p class="subtitulo-raiz">Nuestro país hace grandes cosas artesanales</p>
    </div>

    <!-- Mensaje de éxito -->
    @if (successMessage) {
    <div class="success-message">
      <span class="success-icon">✅</span>
      {{ successMessage }}
    </div>
    }

    <!-- Mensaje de error -->
    @if (errorMessage) {
    <div class="error-message">
      <span class="error-icon">⚠️</span>
      {{ errorMessage }}
    </div>
    }

    <form (ngSubmit)="onSubmit()" class="form-raiz">
      <!-- Email -->
      <div class="input-group">
        <label for="email">Correo</label>
        <input
          type="email"
          id="email"
          placeholder="tu@raices.mx"
          [(ngModel)]="email"
          name="email"
          required
          [disabled]="isLoading"
          class="input-raiz"
        />
      </div>

      <!-- Contraseña + Mostrar/Ocultar -->
      <div class="input-group password-group">
        <label for="password">Contraseña</label>
        <div class="password-wrapper">
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="password"
            placeholder="••••••••"
            [(ngModel)]="password"
            name="password"
            required
            [disabled]="isLoading"
            class="input-raiz"
          />
          <button
            type="button"
            class="toggle-password"
            (click)="togglePassword()"
            [disabled]="isLoading"
            [attr.aria-label]="showPassword ? 'Ocultar contraseña' : 'Mostrar contraseña'"
          >
            <span class="icon-eye"></span>
          </button>
        </div>
      </div>

      <!-- Botón -->
      <button type="submit" class="btn-raiz" [disabled]="isLoading">
        @if (isLoading) {
        <span class="loading-spinner"></span>
        <span>Iniciando sesión...</span>
        } @else {
        <span>Iniciar Sesión</span>
        }
        <div class="btn-ripple"></div>
      </button>
    </form>

    <div class="form-footer">
      <a routerLink="/recuperar" class="link-recuperar">¿Olvidaste tu contraseña?</a>
      <a routerLink="/register" class="link-registro">¿No tienes cuenta? Crear una aquí</a>
    </div>
  </div>
</div>
