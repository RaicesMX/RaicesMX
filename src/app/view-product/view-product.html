    <div class="product-container">
    <!-- =========== GALER√çA + INFORMACI√ìN ======== -->
    <div class="product-main">
    <!-- ===== GALER√çA CORREGIDA ===== -->
    <div class="product-gallery">
        <!-- Contenedor principal SIMPLIFICADO -->
        <div class="main-img-container" [class.zoomed]="imagenZoomed">
        <!-- Imagen principal -->
        <img 
            [src]="producto.imagen" 
            class="main-img" 
            alt="Producto"
            (click)="alternarZoom()"
            #mainImage
        />
        <!-- Indicador de zoom (solo cuando NO est√° en zoom) -->
          <div class="zoom-indicator" *ngIf="!imagenZoomed">
            üîç Click para zoom
        </div>
        
        <!-- Controles de zoom (solo cuando EST√Å en zoom) -->
          <div class="zoom-controls" *ngIf="imagenZoomed">
            <button class="zoom-btn" (click)="cerrarZoom($event)">
                <span>‚úï</span>
                Cerrar
            </button>
            </div>
        </div>

        <!-- Miniaturas -->
        <div class="thumbs">
        <img 
            *ngFor="let img of producto.imagenes; let i = index" 
            [src]="img" 
            class="thumb" 
            [class.active]="i === imagenActiva"
            (click)="cambiarImagen(i)"
            (load)="onImageLoad()"
        />
        </div>
    </div>

    <!-- Informaci√≥n -->
    <div class="product-info">
        <h1 class="product-name">{{ producto.nombre }}</h1>

        <!-- Sistema de calificaci√≥n interactivo -->
        <div class="product-rating">
            <div class="stars-container">
            <span *ngFor="let star of [1,2,3,4,5]; let i = index" 
                class="star"
                [class.active]="i < calificacionUsuario"
                (click)="calificar(i + 1)"
                (mouseover)="hoverCalificacion = i + 1"
                (mouseleave)="hoverCalificacion = 0">
                ‚òÖ
            </span>
            </div>
        <span class="rating-count">({{ producto.resenas?.length || 124 }} rese√±as)</span>
          <span *ngIf="calificacionUsuario > 0" class="user-rating">
            Tu calificaci√≥n: {{ calificacionUsuario }} ‚≠ê
        </span>
    </div>

        <p class="product-price">${{ producto.precio }} MXN</p>

        <p class="product-description">{{ producto.descripcion }}</p>

        <div class="product-stock" [class.low-stock]="producto.stock < 10">
            Stock disponible: <strong>{{ producto.stock }}</strong>
          <span *ngIf="producto.stock < 10" class="stock-warning"> - ¬°√öltimas unidades!</span>
        </div>

        <div class="qty-container">
            <label for="quantityInput">Cantidad:</label>
            <div class="qty-controls">
            <button class="qty-btn" (click)="disminuir()" [disabled]="cantidad <= 1">-</button>
            <input 
                id="quantityInput" 
                type="number" 
                min="1" 
                [max]="producto.stock" 
                [(ngModel)]="cantidad" 
                class="qty-input" 
            />
            <button class="qty-btn" (click)="aumentar()" [disabled]="cantidad >= producto.stock">+</button>
            </div>
        </div>

        <!-- Botones principales con efectos -->
        <div class="actions">
            <button class="btn-buy" (click)="comprarAhora()">
                <span class="btn-content">Comprar ahora</span>
            <div class="btn-glow"></div>
            </button>
            <button class="btn-add" (click)="agregarAlCarrito()">
                <span class="btn-content">Agregar al carrito</span>
            <div class="btn-glow"></div>
            </button>
            <button class="btn-share" (click)="compartir()">
                <span class="btn-content">Compartir</span>
            </button>
        </div>

        <!-- Env√≠o -->
        <div class="shipping-box">
            <h3>Env√≠o</h3>
            <p>üì¶ Llegada estimada: <strong>2 - 5 d√≠as</strong></p>
            <p>üöö Costo estimado: <strong>$79 MXN</strong></p>
            <p>‚Ü©Ô∏è Devoluciones: <strong>30 d√≠as</strong></p>
        </div>

        <!-- Informaci√≥n del vendedor -->
        <div class="seller-box">
            <h3>Vendedor</h3>
            <p><strong>Artesanos de M√©xico</strong></p>
            <p class="seller-desc">Productos 100% hechos a mano por artesanos.</p>
            <div class="seller-rating">
            ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (4.8/5.0)
            </div>
        </div>
        </div>
    </div>

    <!-- ======== PRODUCTOS RELACIONADOS ========= -->
    <div class="related-section">
        <h2>Productos relacionados</h2>

    <div class="related-grid">
        <div class="related-card" *ngFor="let prod of productosRelacionados">
            <img [src]="prod.imagen" />
            <h4>{{ prod.nombre }}</h4>
            <p>${{ prod.precio }} MXN</p>
            <button class="btn-ver" (click)="verProducto(prod.id)">Ver producto</button>
        </div>
        </div>
    </div>
</div>
